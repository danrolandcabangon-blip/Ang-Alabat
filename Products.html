<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products | Alabat Tourism</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }

        body {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        url('farmersbg.png') no-repeat center center fixed; 
            background-size: cover; color: white; min-height: 100vh; overflow-y: auto;
        }

        /* --- LOGO ANIMATION --- */
        @keyframes slideUpLogo {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* ARIYA LOGO */
        .top-left-logo {
            position: absolute;
            top: 30px;
            left: 30px;
            width: 140px; 
            height: auto;
            z-index: 2000;
            pointer-events: none;
            animation: slideUpLogo 1s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }

        /* LOGO SECTION */
        .logo-wrapper { 
            display: flex; justify-content: center; padding-top: 30px; width: 100%; 
            animation: slideUpLogo 1s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }
        .nav-logo { height: 70px; width: auto; display: block; }

        /* --- NAVIGATION --- */
        nav { display: flex; justify-content: center; align-items: center; padding: 20px 5%; position: sticky; top: 0; z-index: 1000; }
        .nav-container { position: relative; background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(15px); padding: 5px; border-radius: 50px; border: 1px solid rgba(255, 255, 255, 0.2); display: flex; align-items: center; }
        
        /* Your Requested Slider CSS */
        .nav-container a.active { opacity: 1; }
        .nav-slider {
            position: absolute; height: calc(100% - 10px); width: 80px;
            background: rgba(255, 255, 255, 0.2); border-radius: 50px;
            top: 5px; left: 5px; z-index: 1; transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .nav-links { display: flex; list-style: none; position: relative; z-index: 2; }
        .nav-links a { color: white; text-decoration: none; font-size: 11px; font-weight: 700; text-transform: uppercase; padding: 10px 20px; display: inline-block; transition: 0.3s; opacity: 0.6; }

        /* --- CART --- */
        .cart-trigger { margin-left: 20px; position: relative; cursor: pointer; background: rgba(255,255,255,0.1); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 1px solid rgba(255,255,255,0.3); transition: 0.3s; }
        .cart-trigger:hover { background: white; color: black; }
        .cart-count { position: absolute; top: -5px; right: -5px; background: #ff4757; color: white; font-size: 10px; font-weight: 900; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid #111; }
        
        .cart-sidebar { position: fixed; top: 0; right: -400px; width: 380px; height: 100vh; background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(20px); z-index: 2000; padding: 40px 25px; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); color: #1a1a1a; box-shadow: -10px 0 30px rgba(0,0,0,0.5); display: flex; flex-direction: column; }
        .cart-sidebar.active { right: 0; }
        .cart-header { font-weight: 900; font-size: 22px; margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 10px; display: flex; justify-content: space-between; flex-shrink: 0; }
        
        #cart-items-list { flex-grow: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; padding-right: 5px; }
        .cart-item { display: flex; align-items: center; gap: 15px; background: #fdfdfd; padding: 10px; border-radius: 12px; border: 1px solid #eee; }
        .cart-item img { width: 50px; height: 50px; border-radius: 8px; object-fit: cover; }
        
        .cart-total-box { padding: 20px 0; border-top: 2px solid #eee; margin-top: 10px; display: flex; justify-content: space-between; align-items: center; flex-shrink: 0; }
        .total-label { font-weight: 700; color: #555; text-transform: uppercase; font-size: 14px; }
        .total-amount { font-weight: 900; font-size: 22px; color: #1a1a1a; }
        .checkout-pill { display: flex; align-items: center; gap: 15px; background: #232a34; color: white; padding: 15px; border-radius: 100px; text-decoration: none; font-weight: 800; font-size: 16px; text-transform: uppercase; width: 100%; justify-content: center; border:none; cursor:pointer; flex-shrink: 0;}

        /* --- MAIN LAYOUT --- */
        .main-content { display: flex; min-height: 85vh; padding: 0 5% 50px; gap: 50px; align-items: flex-start; }

        /* --- VIDEO SIDE --- */
        .video-side { flex: 1.4; display: flex; flex-direction: column; align-items: center; gap: 20px; position: sticky; top: 100px; }
        .made-with-love { font-weight: 900; font-size: clamp(30px, 4.5vw, 60px); line-height: 0.9; text-transform: uppercase; width: 100%; text-align: left; letter-spacing: -2px; }
        .video-frame { position: relative; width: 100%; border-radius: 30px; border: 5px solid white; overflow: hidden; background: #000; box-shadow: 0 20px 40px rgba(0,0,0,0.4); }
        video { width: 100%; display: block; aspect-ratio: 16/9; object-fit: cover; }
        .video-label { position: absolute; top: 20px; left: 20px; font-weight: 700; font-size: 14px; text-transform: uppercase; z-index: 10; opacity: 0.5; letter-spacing: 1px; pointer-events: none; }
        .nav-arrow { position: absolute; top: 15px; right: 20px; background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: none; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 15; transition: 0.3s; font-size: 18px; border: 1px solid rgba(255,255,255,0.3); }
        .video-bottom-ui { position: absolute; bottom: 20px; left: 20px; right: 20px; display: flex; align-items: center; gap: 15px; z-index: 15; }
        .mute-btn { background: none; border: none; color: white; cursor: pointer; font-size: 20px; }
        .v-progress { flex: 1; height: 4px; background: rgba(255,255,255,0.3); border-radius: 10px; appearance: none; cursor: pointer; outline: none; }
        .v-progress::-webkit-slider-thumb { appearance: none; width: 10px; height: 10px; background: white; border-radius: 50%; }
        .tourism-quote { width: 100%; text-align: center; }
        .tourism-quote p { font-style: italic; font-size: 13px; line-height: 1.6; opacity: 0.8; font-weight: 400; }

        /* --- PRODUCT LIST --- */
        .slider-section { flex: 1; position: relative; }
        .product-list { display: flex; flex-direction: column; gap: 25px; padding: 20px 0; }
        .product-card { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(25px); padding: 25px; border-radius: 35px; border: 1px solid rgba(255, 255, 255, 0.2); display: flex; flex-direction: column; cursor: pointer; transition: 0.3s; position: relative;}
        .product-card:hover { transform: translateY(-5px); background: rgba(255, 255, 255, 0.15); }
        .card-row { display: flex; align-items: flex-start; gap: 25px; }
        .img-price-col { display: flex; flex-direction: column; align-items: center; gap: 10px; }
        .product-card img { width: 150px; height: 150px; border-radius: 25px; object-fit: cover; }
        .list-price { font-weight: 900; font-size: 18px; color: #00AEEF; }
        .header-area { flex: 1; display: flex; justify-content: space-between; align-items: flex-start; }
        .product-name { font-size: 20px; font-weight: 900; text-transform: uppercase; color: #fff; }
        .product-content { font-size: 11px; color: #00AEEF; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; }
        .product-description { font-size: 13px; opacity: 0.8; line-height: 1.5; color: #eee; margin-top: 10px; }
        .add-cart-btn { background: #fff; color: #000; width: 44px; height: 44px; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 24px; font-weight: 900; transition: 0.2s; border: none; }
        .add-cart-btn:hover { background: #00AEEF; color: #fff; transform: scale(1.05); }

        /* Sold Out Badge */
        .sold-out-badge { background: #ff4757; color: white; padding: 8px 12px; border-radius: 8px; font-size: 10px; font-weight: 900; text-transform: uppercase; }

        /* --- ZOOM MODAL & ANIMATION --- */
        @keyframes zoomInEffect {
            from { transform: scale(0.7); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .zoom-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); backdrop-filter: blur(15px); display: none; justify-content: center; align-items: center; z-index: 3000; transition: 0.3s ease; opacity: 0;}
        .zoom-overlay.active { display: flex; opacity: 1; }
        
        .zoom-card { 
            background: white; 
            color: #111; 
            max-width: 450px; 
            width: 90%; 
            border-radius: 40px; 
            overflow: hidden; 
            position: relative;
            transform: scale(0.7);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .zoom-overlay.active .zoom-card { 
            transform: scale(1);
            opacity: 1;
            animation: zoomInEffect 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .zoom-img { width: 100%; height: 280px; object-fit: cover; }
        .zoom-details { padding: 30px; display: flex; flex-direction: column; }
        .zoom-price { font-size: 26px; font-weight: 900; color: #00AEEF; }
        .zoom-title { font-size: 24px; font-weight: 900; text-transform: uppercase; color: #111; }
        .zoom-content { font-size: 12px; font-weight: 800; color: #888; text-transform: uppercase; margin-bottom: 10px; }
        .zoom-desc { color: #444; line-height: 1.6; font-size: 15px; margin-bottom: 25px; }
        .close-zoom { position: absolute; top: 15px; right: 15px; background: rgba(0,0,0,0.5); color: white; border: none; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; z-index: 10; font-size: 16px; }

        @media (max-width: 1100px) { 
            .main-content { flex-direction: column; height: auto; padding-top: 40px; } 
            .video-side { position: static; width: 100%; }
            .slider-section { width: 100%; }
            .product-list { padding: 50px 0; }
            .top-left-logo { display: none; } 
        }
    </style>
</head>
<body>

    <img src="ariya.jpg" alt="Ariya Brand Logo" class="top-left-logo">

    <div class="logo-wrapper">
        <a href="index.html"><img src="AlabatLogo.png" alt="Alabat Tourism Logo" class="nav-logo"></a>
    </div>

    <nav>
        <div class="nav-container">
            <div class="nav-slider" id="navShade"></div>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html" onclick="setActive(this, event)">HOME</a></li>
                <li><a href="about.html" onclick="setActive(this, event)">ABOUT</a></li>
                <li><a href="destinations.html" onclick="setActive(this, event)">DESTINATIONS</a></li>
                <li><a href="products.html" id="activeLink" class="active" onclick="setActive(this, event)">PRODUCTS</a></li>
                <li><a href="contact.html" onclick="setActive(this, event)">CONTACT</a></li>
            </ul>
        </div>
        <div class="cart-trigger" onclick="toggleCart()">
            <span>ðŸ›’</span>
            <div class="cart-count" id="cart-badge">0</div>
        </div>
    </nav>

    <div class="zoom-overlay" id="zoomOverlay" onclick="closeProductZoom(event)">
        <div class="zoom-card">
            <button class="close-zoom" onclick="closeProductZoom(event)">âœ•</button>
            <img src="" id="zoomImg" class="zoom-img">
            <div class="zoom-details">
                <span id="zoomPrice" class="zoom-price"></span>
                <h2 id="zoomTitle" class="zoom-title"></h2>
                <span id="zoomContent" class="zoom-content"></span>
                <p id="zoomDesc" class="zoom-desc"></p>
                <button id="modalAddToCart" class="checkout-pill">Add to Cart</button>
            </div>
        </div>
    </div>

    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">YOUR CART <span onclick="toggleCart()" style="cursor:pointer;">âœ•</span></div>
        <div id="cart-items-list"></div>
        <div class="cart-total-box">
            <span class="total-label">Subtotal</span>
            <span class="total-amount" id="cart-total-amount">â‚±0.00</span>
        </div>
        <a href="checkout.html" class="checkout-pill">Checkout Now</a>
    </div>

    <div class="main-content">
        <div class="video-side">
            <h1 class="made-with-love">MADE WITH LOVE<br>JUST FOR YOU!</h1>
            <div class="video-frame">
                <div class="video-label" id="videoTitle">NIYOGYUGAN FESTIVAL</div>
                <button class="nav-arrow" onclick="changeVideo()">âžœ</button>
                <video id="processVideo" autoplay muted loop playsinline><source src="IMG_1272.mp4" type="video/mp4"></video>
                <div class="video-bottom-ui">
                    <button class="mute-btn" id="muteBtn" onclick="toggleMute()">ðŸ”‡</button>
                    <input type="range" class="v-progress" id="progressBar" value="0" step="0.1">
                </div>
            </div>
            <div class="tourism-quote">
                <p>"Farming is not just a livelihood; it is art. Every product has a story."</p>
            </div>
        </div>
        <div class="slider-section">
            <div class="product-list" id="products-list"></div>
        </div>
    </div>

    <script>
        const shade = document.getElementById('navShade');
        let currentActive = document.getElementById('activeLink');

        function moveShade(el) {
            shade.style.width = el.offsetWidth + 'px';
            shade.style.left = el.offsetLeft + 'px';
        }

        function setActive(el, e) {
            currentActive.classList.remove('active');
            el.classList.add('active');
            currentActive = el;
            moveShade(el);
            // Link stays functional and navigates
        }

        window.addEventListener('load', () => moveShade(currentActive));

        const video = document.getElementById('processVideo');
        const muteBtn = document.getElementById('muteBtn');
        const videoTitle = document.getElementById('videoTitle');
        const progressBar = document.getElementById('progressBar');
        const myVideos = [{ title: "NIYOGYUGAN FESTIVAL", url: "IMG_1272.mp4" }, { title: "ALABAT ISLAND DRONE", url: "kevin.mp4" }];
        let vIdx = 0;
        function toggleMute() { video.muted = !video.muted; muteBtn.innerText = video.muted ? "ðŸ”‡" : "ðŸ”Š"; }
        function changeVideo() { vIdx = (vIdx + 1) % myVideos.length; video.src = myVideos[vIdx].url; videoTitle.innerText = myVideos[vIdx].title; video.play(); }
        video.addEventListener('timeupdate', () => { if (video.duration) progressBar.value = (video.currentTime / video.duration) * 100; });

        let cart = JSON.parse(localStorage.getItem('alabat_cart')) || [];

        function renderProducts() {
            const inventory = JSON.parse(localStorage.getItem('alabat_inventory')) || [
                { name: "COCO SUGAR", price: "â‚±180.00", content: "100% Pure Organic", img: "coco-sugar.jpg", desc: "Healthy alternative sugar.", available: true },
                { name: "VIRGIN COCONUT OIL", price: "â‚±250.00", content: "Cold-Pressed", img: "vco.jpg", desc: "Multi-purpose premium oil.", available: true }
            ];
            const listDiv = document.getElementById('products-list');
            listDiv.innerHTML = "";
            inventory.forEach((prod, index) => {
                const isAvail = prod.available !== false;
                listDiv.innerHTML += `
                    <div class="product-card" onclick="openProductZoom(${index})">
                        <div class="card-row">
                            <div class="img-price-col">
                                <img src="${prod.img}" style="${isAvail ? '' : 'filter:grayscale(1); opacity:0.5;'}">
                                <span class="list-price">${prod.price}</span>
                            </div>
                            <div class="header-area">
                                <div class="product-info-stack">
                                    <h3 class="product-name">${prod.name}</h3>
                                    <div class="product-content">${prod.content || 'Premium Quality'}</div>
                                    <div class="product-description">${prod.desc || 'Local Alabat product.'}</div>
                                </div>
                                ${isAvail ? 
                                    `<div class="add-cart-btn" onclick="event.stopPropagation(); addToCart('${prod.name}', '${prod.img}', '${prod.price}')">+</div>` : 
                                    `<div class="sold-out-badge">SOLD OUT</div>`}
                            </div>
                        </div>
                    </div>`;
            });
        }

        function openProductZoom(index) {
            const inventory = JSON.parse(localStorage.getItem('alabat_inventory')) || [
                { name: "COCO SUGAR", price: "â‚±180.00", content: "100% Pure Organic", img: "coco-sugar.jpg", desc: "Healthy alternative sugar.", available: true },
                { name: "VIRGIN COCONUT OIL", price: "â‚±250.00", content: "Cold-Pressed", img: "vco.jpg", desc: "Multi-purpose premium oil.", available: true }
            ];
            const prod = inventory[index];
            const isAvail = prod.available !== false;
            document.getElementById('zoomImg').src = prod.img;
            document.getElementById('zoomPrice').innerText = prod.price;
            document.getElementById('zoomTitle').innerText = prod.name;
            document.getElementById('zoomContent').innerText = prod.content || 'Premium Quality';
            document.getElementById('zoomDesc').innerText = prod.desc || 'Local Alabat product.';
            const mBtn = document.getElementById('modalAddToCart');
            mBtn.style.display = isAvail ? 'flex' : 'none';
            mBtn.onclick = () => addToCart(prod.name, prod.img, prod.price);
            document.getElementById('zoomOverlay').classList.add('active');
        }

        function toggleCart() { document.getElementById('cartSidebar').classList.toggle('active'); }
        function addToCart(name, img, price) {
            const item = cart.find(i => i.name === name);
            if (item) item.quantity++; else cart.push({ name, img, price, quantity: 1 });
            updateCart();
            if(!document.getElementById('cartSidebar').classList.contains('active')) toggleCart();
        }
        function removeFromCart(name) { cart = cart.filter(i => i.name !== name); updateCart(); }
        function updateCart() {
            localStorage.setItem('alabat_cart', JSON.stringify(cart));
            document.getElementById('cart-badge').innerText = cart.reduce((s, i) => s + i.quantity, 0);
            const list = document.getElementById('cart-items-list');
            list.innerHTML = "";
            let total = 0;
            cart.forEach(i => {
                list.innerHTML += `<div class="cart-item"><img src="${i.img}"><div><h4>${i.name} (${i.quantity})</h4><p style="color:#00AEEF;">${i.price}</p><span onclick="removeFromCart('${i.name}')" style="color:#ff4757; cursor:pointer; font-size:11px;">Remove</span></div></div>`;
                total += parseFloat(i.price.replace(/[â‚±,]/g, '')) * i.quantity;
            });
            document.getElementById('cart-total-amount').innerText = `â‚±${total.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
        }
        function closeProductZoom(e) { if (e.target.id === 'zoomOverlay' || e.target.className === 'close-zoom') document.getElementById('zoomOverlay').classList.remove('active'); }

        renderProducts();
        updateCart();
    </script>
</body>
</html>