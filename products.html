<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products | Alabat Tourism</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }

        body {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), 
                        url('farmersbg.png') no-repeat center center fixed; 
            background-size: cover; color: white; min-height: 100vh; overflow-x: hidden;
        }

        /* --- LOGO & NAV --- */
        .top-left-logo {
            position: absolute; top: 20px; left: 20px; width: 100px; 
            z-index: 2000; opacity: 0.8;
        }

        .logo-wrapper { display: flex; justify-content: center; padding-top: 40px; width: 100%; }
        .nav-logo { height: 60px; filter: drop-shadow(0 0 10px rgba(0,174,239,0.3)); }

        nav { 
            display: flex; justify-content: center; align-items: center; 
            padding: 15px; position: sticky; top: 0; z-index: 1000; width: 100%;
        }

        .nav-container {
            position: relative; background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(20px);
            padding: 5px; border-radius: 50px; border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex; align-items: center; max-width: 90vw; overflow-x: auto; scrollbar-width: none;
        }
        .nav-container::-webkit-scrollbar { display: none; }
        
        .nav-links { display: flex; list-style: none; position: relative; z-index: 2; }
        .nav-links a { 
            color: white; text-decoration: none; font-size: 10px; font-weight: 700; 
            text-transform: uppercase; padding: 10px 18px; display: inline-block; 
            transition: 0.3s; opacity: 0.6; white-space: nowrap;
        }
        .nav-links a.active { opacity: 1; }
        
        .nav-slider {
            position: absolute; height: calc(100% - 10px);
            background: rgba(0, 174, 239, 0.5); border-radius: 50px;
            top: 5px; z-index: 1; transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* --- CART UI --- */
        .cart-trigger { 
            margin-left: 15px; position: relative; cursor: pointer; 
            background: #00AEEF; width: 45px; height: 45px; border-radius: 50%; 
            display: flex; align-items: center; justify-content: center; 
            box-shadow: 0 5px 15px rgba(0,174,239,0.4);
        }
        .cart-count { 
            position: absolute; top: -2px; right: -2px; background: #ff4757; 
            color: white; font-size: 10px; font-weight: 900; width: 20px; 
            height: 20px; border-radius: 50%; display: flex; align-items: center; 
            justify-content: center; border: 2px solid white;
        }
        
        .cart-sidebar { 
            position: fixed; top: 0; right: -100%; width: 100%; max-width: 400px; 
            height: 100vh; background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(20px); 
            z-index: 3000; padding: 30px 20px; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); 
            color: #1a1a1a; display: flex; flex-direction: column;
        }
        .cart-sidebar.active { right: 0; }
        .cart-header { font-weight: 900; font-size: 20px; margin-bottom: 20px; display: flex; justify-content: space-between; }
        #cart-items-list { flex-grow: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .cart-item { display: flex; align-items: center; gap: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
        .cart-item img { width: 60px; height: 60px; border-radius: 12px; object-fit: cover; }
        
        .checkout-pill { 
            background: #111; color: white; padding: 18px; border-radius: 50px; 
            text-decoration: none; font-weight: 800; text-align: center; 
            text-transform: uppercase; margin-top: 20px; transition: 0.3s;
        }

        /* --- MAIN CONTENT --- */
        .main-content { 
            display: flex; flex-direction: column; padding: 20px 5% 80px; gap: 40px; 
        }
        @media (min-width: 1100px) {
            .main-content { flex-direction: row; align-items: flex-start; padding: 40px 8%; gap: 60px; }
            .video-side { position: sticky; top: 120px; flex: 1.2; }
            .slider-section { flex: 1; }
            .top-left-logo { width: 140px; }
        }

        .made-with-love { font-size: clamp(32px, 7vw, 55px); font-weight: 900; line-height: 0.9; margin-bottom: 20px; }
        
        /* --- YOUTUBE FRAME --- */
        .video-frame { 
            position: relative; 
            border-radius: 25px; 
            border: 3px solid white; 
            overflow: hidden; 
            background: #000;
            aspect-ratio: 16/9;
            cursor: pointer;
        }
        .video-frame iframe { width: 100%; height: 100%; border: none; }

        /* --- PRODUCT CARDS --- */
        .product-list { display: flex; flex-direction: column; gap: 20px; }
        .product-card { 
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); 
            padding: 20px; border-radius: 30px; border: 1px solid rgba(255, 255, 255, 0.1); 
            display: flex; gap: 20px; cursor: pointer; transition: 0.3s;
        }
        .product-card:hover { background: rgba(255, 255, 255, 0.1); transform: scale(1.02); }
        .product-card img { width: 100px; height: 100px; border-radius: 20px; object-fit: cover; }
        .product-info { flex: 1; display: flex; flex-direction: column; justify-content: center; }
        .product-name { font-size: 16px; font-weight: 900; color: #00AEEF; text-transform: uppercase; }
        .product-description { font-size: 12px; opacity: 0.7; margin: 5px 0; }
        .list-price { font-weight: 900; font-size: 15px; }
        
        .add-cart-btn { 
            background: white; color: black; width: 40px; height: 40px; 
            border-radius: 12px; display: flex; align-items: center; 
            justify-content: center; font-weight: 900; font-size: 20px; border: none;
        }
        .sold-out-badge { background: #ff4757; font-size: 9px; padding: 5px 10px; border-radius: 5px; font-weight: 900; }
    </style>
</head>
<body>

    <img src="ariya.jpg" alt="Ariya Brand Logo" class="top-left-logo">

    <div class="logo-wrapper">
        <a href="index.html"><img src="AlabatLogo.png" alt="Alabat Tourism Logo" class="nav-logo"></a>
    </div>

    <nav>
        <div class="nav-container">
            <div class="nav-slider" id="navShade"></div>
            <ul class="nav-links">
                <li><a href="index.html">HOME</a></li>
                <li><a href="about.html">ABOUT</a></li>
                <li><a href="destinations.html">DESTINATIONS</a></li>
                <li><a href="products.html" id="activeLink" class="active">PRODUCTS</a></li>
                <li><a href="contact.html">CONTACT</a></li>
            </ul>
        </div>
        <div class="cart-trigger" onclick="toggleCart()">
            <span>ðŸ›’</span>
            <div class="cart-count" id="cart-badge">0</div>
        </div>
    </nav>

    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">YOUR BASKET <span onclick="toggleCart()" style="cursor:pointer;">âœ•</span></div>
        <div id="cart-items-list"></div>
        <div style="margin-top:auto; padding-top:20px; border-top:2px solid #eee;">
            <div style="display:flex; justify-content:space-between; font-weight:900; font-size:1.2rem;">
                <span>Total</span>
                <span id="cart-total-amount">â‚±0.00</span>
            </div>
            <a href="checkout.html" class="checkout-pill" style="display:block;">Secure Checkout</a>
        </div>
    </div>

    <div class="main-content">
        <div class="video-side">
            <h1 class="made-with-love">MADE WITH LOVE<br>JUST FOR YOU!</h1>
            <div class="video-frame" onclick="changeVideo()">
                <iframe id="processVideo" 
                        src="https://www.youtube.com/embed/Na-BqhLr-PA?autoplay=0&loop=1&playlist=Na-BqhLr-PA" 
                        allow="autoplay; encrypted-media" allowfullscreen>
                </iframe>
            </div>
        </div>
        <div class="slider-section">
            <div class="product-list" id="products-list"></div>
        </div>
    </div>

    <script>
        const shade = document.getElementById('navShade');
        let currentActive = document.getElementById('activeLink');

        function moveShade(el) {
            shade.style.width = el.offsetWidth + 'px';
            shade.style.left = el.offsetLeft + 'px';
        }

        window.addEventListener('load', () => moveShade(currentActive));
        window.onresize = () => moveShade(currentActive);

        // --- YOUTUBE VIDEO TOGGLE ---
        const videoFrame = document.getElementById('processVideo');
        const myVideos = ["Na-BqhLr-PA", "qLVsOpQ2sUM", "y2l_bqQWGEM"];
        let vIdx = 0;

        function changeVideo() {
            vIdx = (vIdx + 1) % myVideos.length;
            const newId = myVideos[vIdx];
            videoFrame.src = `https://www.youtube.com/embed/${newId}?autoplay=1&loop=1&playlist=${newId}`;
        }

        let cart = JSON.parse(localStorage.getItem('alabat_cart')) || [];

        function renderProducts() {
            const inventory = JSON.parse(localStorage.getItem('alabat_inventory')) || [
                { name: "COCO SUGAR", price: "â‚±180.00", content: "100% Pure Organic", img: "coco-sugar.jpg", desc: "Healthy alternative sugar produced from Alabat coconuts.", available: true },
                { name: "VIRGIN COCONUT OIL", price: "â‚±250.00", content: "Cold-Pressed", img: "vco.jpg", desc: "Multi-purpose premium oil for health and wellness.", available: true }
            ];
            const listDiv = document.getElementById('products-list');
            listDiv.innerHTML = inventory.map((prod, index) => {
                const isAvail = prod.available !== false;
                return `
                    <div class="product-card">
                        <img src="${prod.img}" style="${isAvail ? '' : 'filter:grayscale(1); opacity:0.5;'}">
                        <div class="product-info">
                            <h3 class="product-name">${prod.name}</h3>
                            <p class="product-description">${prod.desc}</p>
                            <span class="list-price">${prod.price}</span>
                        </div>
                        <div style="display:flex; align-items:center;">
                            ${isAvail ? 
                                `<button class="add-cart-btn" onclick="addToCart('${prod.name}', '${prod.img}', '${prod.price}')">+</button>` : 
                                `<span class="sold-out-badge">SOLD OUT</span>`}
                        </div>
                    </div>`;
            }).join('');
        }

        function toggleCart() { document.getElementById('cartSidebar').classList.toggle('active'); }
        
        function addToCart(name, img, price) {
            const item = cart.find(i => i.name === name);
            if (item) item.quantity++; else cart.push({ name, img, price, quantity: 1 });
            updateCart();
            if(!document.getElementById('cartSidebar').classList.contains('active')) toggleCart();
        }

        function removeFromCart(name) { 
            cart = cart.filter(i => i.name !== name); 
            updateCart(); 
        }

        function updateCart() {
            localStorage.setItem('alabat_cart', JSON.stringify(cart));
            document.getElementById('cart-badge').innerText = cart.reduce((s, i) => s + i.quantity, 0);
            const list = document.getElementById('cart-items-list');
            let total = 0;
            list.innerHTML = cart.map(i => {
                total += parseFloat(i.price.replace(/[â‚±,]/g, '')) * i.quantity;
                return `<div class="cart-item"><img src="${i.img}">
                        <div style="flex:1"><h4>${i.name}</h4><p>${i.price} x ${i.quantity}</p></div>
                        <span onclick="removeFromCart('${i.name}')" style="color:#ff4757; cursor:pointer;">âœ•</span></div>`;
            }).join('');
            document.getElementById('cart-total-amount').innerText = `â‚±${total.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
        }

        renderProducts();
        updateCart();
    </script>
</body>
</html>


